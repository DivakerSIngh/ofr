@model OneFineRateBLL.Entities.eBookingModify
@using OneFineRateAppUtil

@{
    ViewBag.Title = "BookingConfirmation";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/horizontalSlider.css" rel="stylesheet" />

<link href="~/css/print.css" rel="stylesheet" media="print" />
<script src="~/Scripts/horizontalSlider.js"></script>


@if (Model.BookingRoomDetails != null && Model.BookingRoomDetails.Count > 0)
{
    var mobileNo = !string.IsNullOrWhiteSpace(Model.CountryPhoneCode) ? string.Concat(Model.CountryPhoneCode + "-", Model.MobileOFR) : Model.MobileOFR;
    <div class="thirdsection margintop20">
        <div class="container">
            <div class="row">
                <div class="confbluehdg">

                    @if (Model.cBookingType == "N" && Model.cBookingStatus == "NC")
                    {
                        <strong class="fontsize18a">Thank You @Model.Booker! We have recieved your offer. @Model.sMessage</strong>
                    }
                    else
                    {
                        if (Model.cBookingStatus == "MD" || Model.cBookingStatus == "MR")
                        {
                            <strong class="fontsize18a">Congratulations @Model.Booker! Your reservation is now modified.</strong>

                        }
                        else
                        {
                            <strong class="fontsize18a">Thank You @Model.Booker! Your reservation is now confirmed.</strong>
                        }
                    }

                </div>

                <div class="col-md-8 col-xs-12">
                    <div class="row">
                        <div class="col-md-4 col-xs-12">
                            <img src="@Model.sImgUrl" class="imgheight150" />
                        </div>
                        <div class="col-md-8 col-xs-12">
                            <h4 style="font-weight:bold;">@Model.HotelName</h4>
                            <img src="~/images/inner-star@(Model.StarCategoryId).png" /><br />
                            <p>
                                @Model.StreetAddress <br />
                                @Model.Address
                            </p>
                            @if (!string.IsNullOrEmpty(Model.RatingImageUrl))
                            {
                                <img src="@Model.RatingImageUrl" /><br />
                            }
                            @if (!string.IsNullOrEmpty(Model.RatingString))
                            {
                                <em class="green">
                                    @Model.RatingString
                                </em>
                            }
                        </div>
                    </div>
                    <!--left column -->
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Booking Date </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5 ">@Model.ReservationDate</div>
                        <div class="col-md-2 col-xs-5"><strong>Booking Id </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5 ">@Model.BookingId</div>

                    </div>

                    <div class="row">

                        <div class="col-md-2 col-xs-5 "><strong>Your Reservation  </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-9 col-xs-5 ">@Model.Reservation</div>

                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Status </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-9 col-xs-5 ">@Model.BookingStatus @(Model.sExtra3 == "Redeem" ? Html.Raw("(Points Redeemed)") : null)</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Check-In Date  </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5 ">@Model.CheckIn</div>
                        <div class="col-md-2 col-xs-5"><strong>Check-Out Date</strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5 ">@Model.ChekOut</div>
                    </div>

                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Booked By </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5">@Model.Booker</div>
                        <div class="col-md-2 col-xs-5"><strong>Contact No</strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5">@mobileNo</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>E-mail Id  </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-5">@Model.EmailOFR</div>
                    </div>

                </div>
                <div class="col-md-4 col-xs-12">
                    <div class="row">
                        <div class="margintop10 border1" style="width:100%;">
                            <div id="googleMap" style=" width:100%;height:150px;"></div>
                        </div>
                    </div>

                    @if (Model.cBookingStatus == "NC" && Model.cBookingType == "N")
                    {
                        <br />
                        <div class="row">
                            <div class="col-xs-7"><strong>Your offered amount</strong></div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalNegotiateAmount) - Convert.ToDecimal(Model.sExtra2))</div>
                        </div>

                        <div class="row">
                            <div class="col-xs-7">Tax and Service Fees:</div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrServiceCharge) + Convert.ToDecimal(Model.sExtra2) + Convert.ToDecimal(Model.dOfrGSTONServiceCharge))</div>
                        </div>
                        <hr />
                        <div class="row">
                            <div class="col-md-7 col-xs-7"><b>Total Charges </b></div>
                            <div class="col-md-1 col-xs-1">:</div>
                            <div class="col-md-4 col-xs-3"><b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dSubTotalNego))</b></div>
                        </div>
                    }
                    else if (Model.cBookingType == "B") // B- Bidding
                    {
                        <div class="row">
                            <div class="col-xs-9"><h4>RATE INFORMATION </h4></div>
                            <div class="col-xs-3"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-7 col-xs-7">Rate Per Night</div>
                            <div class="col-md-1 col-xs-1">:</div>
                            <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dBidAmount))</div>
                        </div>

                        @*if (Model.ExtraBedAmount != 0)
                            {
                                <div class="row">
                                    <div class="col-xs-7">Extra Bed Charges</div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.ExtraBedAmount))</div>
                                </div>
                            }*@

                    if (Convert.ToDecimal(Model.TaxPerNight) > 0)
                    {
                        <div class="row">
                            <div class="col-md-7 col-xs-7">Taxes per Night</div>
                            <div class="col-md-1 col-xs-1">:</div>
                            <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.TaxPerNight))</div>
                        </div>
                    }

                    <div class="row">
                        <div class="col-md-7 col-md-7col-xs-7">Total Gross charges</div>
                        <div class="col-md-1 col-xs-1">:</div>
                        <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dCustomerPayable) + Convert.ToDecimal(Model.Tax))</div>
                    </div>
                    @*if (Model.dccDiscount > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">OFR Discount </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dccDiscount))</div>
                            </div>
                        }*@
                    if (!string.IsNullOrEmpty(Model.dOfrServiceCharge) && Convert.ToDecimal(Model.dOfrServiceCharge) > 0)
                    {
                        <div class="row">
                            <div class="col-md-7 col-xs-7">OFR Service charge</div>
                            <div class="col-md-1 col-xs-1">:</div>
                            <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrServiceCharge))</div>
                        </div>

                        if (Model.GST_Same_State)
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">CGST on OFR Service Charge (@Model.SGST_Per) </div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.SGST_Val))</div>
                            </div>
                            <div class="row">
                                <div class="col-md-7 col-xs-7">SGST on OFR Service Charge (@Model.SGST_Per) </div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.SGST_Val))</div>
                            </div>
                        }
                        else
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">IGST on Service Charge(@Model.dValue%)</div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrGSTONServiceCharge))</div>
                            </div>
                        }
                    }

                    <hr />
                    <div class="row">
                        <div class="col-md-7 col-xs-7"><b>Total Charges </b></div>
                        <div class="col-md-1 col-xs-1">:</div>
                        <div class="col-md-4 col-xs-3">
                            <b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dCustomerPayable) + Convert.ToDecimal(Model.Tax) + Convert.ToDecimal(Model.dOfrGSTONServiceCharge) + Convert.ToDecimal(Model.dOfrServiceCharge))</b>
                        </div>
                    </div>
                    }
                    else
                    {
                        <br />
                        <div class="row">
                            <div class="col-xs-9"><h4>RATE INFORMATION </h4></div>
                            <div class="col-xs-3"></div>
                        </div>

                        if (Model.ActualBookingType == "B")
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">Rate Per Night</div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dDiscountRatePerNight_Bid))</div>
                            </div>
                        }
                        else
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">Rate Per Night</div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.AvgAmount))</div>
                            </div>
                        }


                        if (Model.ExtraBedAmount > 0)
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">Extra Bed Charges Per Night</div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.ExtraBedAmount))</div>
                            </div>
                        }

                        if (Convert.ToDecimal(Model.TaxPerNight) > 0)
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">Taxes per Night</div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.TaxPerNight))</div>
                            </div>
                        }
                        <div class="row">
                            <div class="col-md-7 col-xs-7">Total Gross charges</div>
                            <div class="col-md-1 col-xs-1">:</div>
                            <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dCustomerGrossCharges))</div>
                        </div>

                        if (!string.IsNullOrEmpty(Model.dOfrServiceCharge) && Convert.ToDecimal(Model.dOfrServiceCharge) > 0)
                        {

                            <div class="row">
                                <div class="col-md-7 col-xs-7">OFR Service charge</div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrServiceCharge))</div>
                            </div>

                            if (Model.GST_Same_State)
                            {
                                <div class="row">
                                    <div class="col-md-7 col-xs-7">CGST on OFR Service Charge (@Model.SGST_Per) </div>
                                    <div class="col-md-1 col-xs-1">:</div>
                                    <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.SGST_Val))</div>
                                </div>
                                <div class="row">
                                    <div class="col-md-7 col-xs-7">SGST on OFR Service Charge (@Model.SGST_Per) </div>
                                    <div class="col-md-1 col-xs-1">:</div>
                                    <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.SGST_Val))</div>
                                </div>
                            }
                            else
                            {
                                <div class="row">
                                    <div class="col-md-7 col-xs-7">IGST on Service Charge(@Model.dValue%)</div>
                                    <div class="col-md-1 col-xs-1">:</div>
                                    <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrGSTONServiceCharge))</div>
                                </div>
                            }
                        }


                        if (Model.dDiscountedBidPrice > 0 && Model.cBookingType == "R")
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">OFR Discount </div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dDiscountedBidPrice))</div>
                            </div>
                        }
                        if (Model.bPromoDiscount == false && @Model.bPromoAmenity != "" && Model.cBookingType == "R")
                        {
                            <div class="row">
                                <div class="col-md-7 col-xs-7">OFR Discount </div>
                                <div class="col-md-1 col-xs-1">:</div>
                                <div class="col-md-4 col-xs-3">@Model.bPromoAmenity</div>
                            </div>
                        }

                        <hr />
                        <div class="row">
                            <div class="col-md-7 col-xs-7"><b>Total Charges </b></div>
                            <div class="col-md-1 col-xs-1">:</div>
                            <div class="col-md-4 col-xs-3"><b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Model.dCustomerTotalCharges)</b></div>
                        </div>

                    }
                </div>


                @if (Model.cBookingStatus == "NC" && Model.cBookingType == "N")
                {
                    <div class="col-xs-12">
                        <div class="bluehdg paddlefttop">
                            <h5>Important Information about Bargain</h5>
                        </div>
                        <div class="text-justify lineheight20a">
                            <ul class="bullets1">
                                <li>
                                    Please allow us approximately 3 hours [Business hours- IST 0900 to 1800 hrs/GMT+05:30 hrs] to get you the rate of your choice.<br />
                                </li>
                                <li>
                                    If your offer is not accepted, INR 500 will be refunded within 24 hours if paid through PAYU wallet or 3-4 business days if paid through any other payment method as per banking norms.<br />
                                </li>
                                <li>
                                    If your offer is accepted, please pay the balance reservation amount within 3hours of receiving the confirmation.<br />
                                </li>
                                <li>
                                    In case, your offer is successful and the balance reservation amount is not paid, Advance of INR 500 will be forfited. <strong> Rooms purchased through the OFR  bargain option cannot be cancelled, modified, transferred or refunded. </strong>
                                </li>
                            </ul>
                        </div>
                    </div>
                }
            </div>

            @if (Model.cBookingStatus != "NC")
            {
                if (Request.Browser.IsMobileDevice)
                {
                    <div class=" margintop30">
                        <div class="tablebluebg">
                            Guest Information
                        </div>
                        @for (int i = 0; i < @Model.BookingRoomDetails.Count; i++)
                        {
                            <div class="row">
                                <div class="col-xs-4">
                                    Room<span class="red">*</span>
                                </div>
                                <div class="col-xs-8 form-group">
                                    @Model.BookingRoomDetails[i].RoomNo
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-4">
                                    Room Type<span class="red">*</span>
                                </div>
                                <div class="col-xs-8 form-group" >
                                    <a href="javascript:void(0)" onclick="OpenPopUp('@Model.PropId','@Model.BookingRoomDetails[i].RoomId')">@Model.BookingRoomDetails[i].RoomName</a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-4">
                                    Per Night Rate<span class="red">*</span>
                                </div>
                                <div class="col-xs-8 form-group">
                                    @Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.BookingRoomDetails[i].RoomRate))
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-4">
                                    Guest Name<span class="red">*</span>
                                </div>
                                <div class="col-xs-8 form-group">
                                    @Model.BookingRoomDetails[i].GuestName
                                </div>
                            </div>
                                        <div class="row">
                                            <div class="col-xs-4">
                                                Adults<span class="red">*</span>
                                            </div>
                                            <div class="col-xs-8 form-group">
                                                @Model.BookingRoomDetails[i].Occupancy
                                            </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-4" >
                                                    Bed Preference<span class="red">*</span>
                                                </div>
                                                <div class="col-xs-8 form-group">
                                                    @Model.BookingRoomDetails[i].BedPrefer

                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-4">
                                                    Extra Bed<span class="red">*</span>
                                                </div>
                                                <div class="col-xs-8 form-group">
                                                    @Model.BookingRoomDetails[i].ExtraBed
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-4">
                                                    Cancellation Policy<span class="red">*</span>
                                                </div>
                                                <div class="col-xs-8 form-group">
                                                    @Html.Raw(HttpUtility.HtmlDecode(Model.BookingRoomDetails[i].PolicyName))
                                                </div>
                                            </div>
                                                    <div class="row">
                                                        <div class="col-xs-4">

                                                            Inclusion<span class="red">*</span>
                                                        </div>
                                                        <div class="col-xs-8 form-group">
                                                            @{
                                                                string rateInclusions = Model.BookingRoomDetails[i].AmenityRatePlan.Replace("|", "<br/>");
                                                            }
                                                            @Html.Raw(rateInclusions)
                                                        </div>
                                                    </div>

                                                                }
                    </div>
                                }
                                else
                                {
                                    <div class="table-responsive margintop20">
                                        <div class="tablebluebg ">Guest Information</div>
                                        <table class="table table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th style="width:10%;">Room</th>
                                                    <th style="width:10%;">Room Type</th>
                                                    <th style="width:12%;">Per Night Rate</th>
                                                    <th style="width:10%;">Guest Name</th>
                                                    <th style="width:5%;">Adults</th>
                                                    <th style="width:12%;">Bed Preference</th>
                                                    <th style="width:8%;">Extra Bed</th>
                                                    <th style="width:16%;">Cancellation Policy</th>
                                                    <th style="width:17%;">Inclusion</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @for (int i = 0; i < @Model.BookingRoomDetails.Count; i++)
                                                    {
                                                    <tr>
                                                        <td>@Model.BookingRoomDetails[i].RoomNo</td>
                                                        <td><a href="javascript:void(0)" onclick="OpenPopUp('@Model.PropId','@Model.BookingRoomDetails[i].RoomId')">@Model.BookingRoomDetails[i].RoomName</a></td>
                                                        <td>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.BookingRoomDetails[i].RoomRate))</td>
                                                        <td>@Model.BookingRoomDetails[i].GuestName</td>
                                                        <td>@Model.BookingRoomDetails[i].Occupancy</td>
                                                        <td>@Model.BookingRoomDetails[i].BedPrefer</td>
                                                        <td>@Model.BookingRoomDetails[i].ExtraBed</td>
                                                        <td>
                                                            @Html.Raw(HttpUtility.HtmlDecode(Model.BookingRoomDetails[i].PolicyName))
                                                        </td>
                                                        @{
                                                                string rateInclusions = Model.BookingRoomDetails[i].AmenityRatePlan.Replace("|", "<br/>");
                                                        }
                                                        <td>@Html.Raw(rateInclusions)</td>
                                                    </tr>
                                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                                            }
                                                            <div class="row margintop10">
                                                                <div class="col-md-6 col-xs-12">
                                                                    <div class="table-responsive margintop20">
                                                                        <div class="tablebluebg ">Preferences</div>
                                                                        <table class="table table-striped table-bordered table-hover">
                                                                            @{
                                                                                var Count = 0;
                                                                            }

                                                                            @if (Convert.ToString(Model.SingleLady) != "" && !Model.SingleLady.Contains("No,"))
                                                                            {
                                                                                Count++;
                                                                                <tr>
                                                                                    <td> @Model.SingleLady </td>
                                                                                </tr>
                                                                            }
                                                                            @if (Convert.ToString(Model.SmokingRoom) != "" && !Model.SmokingRoom.Contains("No,"))
                                                                            {
                                                                                Count++;
                                                                                <tr>
                                                                                    <td> @Model.SmokingRoom </td>
                                                                                </tr>
                                                                            }
                                                                            @if (Convert.ToString(Model.Elevator) != "" && !Model.Elevator.Contains("No,"))
                                                                            {
                                                                                Count++;
                                                                                <tr>
                                                                                    <td> @Model.Elevator </td>
                                                                                </tr>
                                                                            }
                                                                            @if (Convert.ToString(Model.QuietRoom) != "" && !Model.QuietRoom.Contains("No,"))
                                                                            {
                                                                                Count++;
                                                                                <tr>
                                                                                    <td> @Model.QuietRoom </td>
                                                                                </tr>
                                                                            }

                                                                            @if (Count == 0)
                                                                            {
                                                                                <tr>
                                                                                    <td>NA</td>
                                                                                </tr>
                                                                            }

                                                                        </table>

                                                                        @if (!String.IsNullOrEmpty(Model.SpecialOccasion))
                                                                        {
                                                                            <strong> @Model.SpecialOccasion</strong>
                                                                            <br />
                                                                        }

                                                                        <span class="star">*</span> Please note that all preferences will be subject to availablity &amp; at the sole discretion of the hotel. You can also directly contact the hotel for any further assistance.
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-6 col-xs-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-12"><strong> Special Requests</strong> </div>
                                                                    </div>
                                                                    <hr />
                                                                    <div class="row">
                                                                        <div class="col-xs-12">@Model.SpecialRequest</div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-4 col-xs-6"><strong>EXPECTED CHECK-IN TIME</strong></div>
                                                                        <div class="col-xs-1">:</div>
                                                                        <div class="col-md-6 col-xs-5"><strong>@Model.ExpectedCheckIn</strong></div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-xs-12 lineheight20 "><span class="star">*</span> Please note that the check-in time of the hotel is <strong>1200 hrs</strong>. Early check-in will subject to availability and may incur extra charges. Any request for pickup needs to be coordinated with the hotel directly.</div>
                                                                    </div>
                                                                    <hr />

                                                                    @if (Model.Pickup == "Yes")
                                                                    {
                                                                        <div class="row">

                                                                            @if (!String.IsNullOrEmpty(Model.FlightNumber))
                                                                            {
                                                                                <div class="col-xs-5 col-md-3"><strong>Transfer Details :</strong></div>
                                                                                <div class="col-xs-7 col-md-3">@Model.FlightNumber</div>
                                                                            }

                                                                            @if (!String.IsNullOrEmpty(Model.EstimateArrivalTime))
                                                                            {
                                                                                <div class="col-xs-5 col-md-3"><strong>Arrival Time :</strong></div>
                                                                                <div class="col-xs-7 col-md-3">@Model.EstimateArrivalTime</div>
                                                                            }
                                                                        </div>
                                                                        if (!String.IsNullOrEmpty(Model.TypeOfCar))
                                                                        {
                                                                            <div class="row">
                                                                                <div class="col-xs-5 col-md-3"><strong>Type of Car :</strong></div>
                                                                                <div class="col-xs-7 col-md-3">@Model.TypeOfCar</div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-xs-12"><span class="star">*</span> The charges  for the car to be paid at the hotel directly.</div>
                                                                            </div>
                                                                        }
                                                                    }
                                                                </div>
                                                            </div>
                                                                                }

        </div>
    </div>

    <div class="container margintop20">
        <div class="row">
            <div class="col-xs-12">
                <div class="tablebluebg">
                    House Rules
                </div>
                <div style="background:#f2f2f2; padding:15px;">



                    @if (!String.IsNullOrEmpty(Model.sCheckInMM))
                    {
                        <div class="row">
                            <div class="col-md-2 col-xs-12"><b>Check-In</b></div>
                           
                            <div class="col-md-10 col-xs-12">

                                @if (Model.b24HrsCheckIn == true)
                                {
                                    <text>
                                        24 hours Check-In is Available. Early Check-In is @if (Model.bEarlyCheckInChargeable == true)
                                        { <text>chargeable.</text> }
                                        else
                                        {<text>not chargeable.</text>}
                                    </text>
                                }
                                else
                                {
                                    <text>
                                        From @Html.DisplayFor(m => m.sCheckInHH):@Html.DisplayFor(m => m.sCheckInMM) hrs onwards. Early Check-In is @if (Model.bEarlyCheckInChargeable == true)
                                        { <text>chargeable.</text> }
                                        else
                                        {<text>not chargeable.</text>}
                                    </text>
                                }
                            </div>

                        </div>
                    }

                    @if (!String.IsNullOrEmpty(Model.sCheckoutMM))
                    {
                        <div class="row">
                            <div class="col-md-2 col-xs-12"><b>Check-Out</b></div>
                           
                            <div class="col-md-10 col-xs-12">
                                @if (Model.b24HrsCheckout == true)
                                {
                                    <text>
                                        24 hours Check-Out is Available. Late Check-Out is @if (Model.bEarlyCheckoutChargeable == true)
                                        { <text>chargeable.</text> }
                                        else
                                        {<text>not chargeable.</text>}
                                    </text>
                                }
                                else
                                {
                                    <text>
                                        Until @Html.DisplayFor(m => m.sCheckoutHH):@Html.DisplayFor(m => m.sCheckoutMM) hrs. @clsUtils.GetTimeType(Model.sCheckoutHH)Late Check-Out is @if (Model.bEarlyCheckoutChargeable == true)
                                        { <text>chargeable.</text> }
                                        else
                                        {<text>not chargeable.</text>}
                                    </text>
                                }

                            </div>
                        </div>
                    }

                    <div class="row">
                        <div class="col-md-2 col-xs-12"><b>Cancellation</b></div>
                        
                        <div class="col-md-10 col-xs-12">Cancellation policies vary according to room rate and package.</div>
                    </div>

                    <div class="row">
                        <div class="col-md-2 col-xs-12"><b>Children and Extra Beds</b></div>
                       
                        <div class="col-md-10 col-xs-12">
                            <ul class="mar-padd0">

                                <li>All children are welcome.</li>
                                @if (Model.iComplimentaryStayAge != null)
                                {
                                    <li> Children upto @Html.DisplayFor(m => m.iComplimentaryStayAge) years stay for free, extra cot/ bed may be chargeable.</li>
                                }

                                <li>Extra bed required for children from @Html.DisplayFor(m => m.iExtraBedRequiredFrom) years.</li>
                                <li>
                                    Extra child or an adult using an extra bed will be charged at @Model.Symbol
                                    @{
                                        string ExPrice = clsUtils.ConvertNumberToCommaSeprated(Model.ExtraBedChargesAsPolicy);
                                    }

                                    @ExPrice

                                    excluding taxes.
                                </li>
                                <li>@Html.DisplayFor(m => m.iMinCheckInAge) years is a minimum age of Check-In.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-2 col-xs-12"><b>Other Policies</b></div>
                       
                        <div class="col-md-10 col-xs-12">
                            <ul class="mar-padd0">
                                @if (Model.bVisitorsAllowed == true)
                                {
                                    <li>Visitors are allowed.</li>
                                }

                                @if (Model.bAlcoholAllowedOnsite == true)
                                {
                                    <li>Alcohol allowed onsite.</li>
                                }

                                @if (Model.bAlcoholServedOnsite == true)
                                {
                                    <li>Alcohol Served onsite.</li>
                                }

                                @if (Model.bPetsAllowed == true)
                                {
                                    <li>Pets are allowed.</li>
                                }
                                else
                                {
                                    <li>Pets are not allowed.</li>
                                }

                                @if (Model.bPartiesAllowed == true)
                                {
                                    <li>Stag/ bachelor and hen/ bachelorette parties are allowed.</li>
                                }
                            </ul>
                        </div>
                    </div>

                    @if (Model.lstCreditCards != null)
                    {
                        if (Model.lstCreditCards.Count > 0)
                        {
                            <div class="row">
                                <div class="col-md-2 col-xs-12"><b>Cards accepted at this property</b> </div>
                                
                                <div class="col-md-10 col-xs-12">
                                    @foreach (var item in Model.lstCreditCards)
                                    {
                                        <img src="@item.sImg">
                                    }
                                </div>
                            </div>
                        }
                    }



                </div>
            </div>
        </div>
    </div>

    <div class="container margintop20 marginbottom10">
        <div class="row">
            <div class="col-xs-12">
                <div class=" tablebluebg">
                    OneFineRate Important Info
                </div>

                <div class=" table-responsive table-bordered  lightgrybg ">
                    <ul class="bullets">
                        <li>
                            Requests for bed types (King, Queen, 2 Doubles, etc.) including preferences like early check in, late check out, smoking room etc. are strictly at the discretion of the hotel and subject to availability and are not to be understood as guaranteed.
                        </li>
                        <li>
                            Reservation is guaranteed for arrival on the confirmed date of check-in only. If you do not check-in on the first day of your reservation, the remainder of the stay will be deemed cancelled too. No refund will be applicable.
                        </li>
                        <li>
                            This reservation and the rate is governed by the Hotel’s cancellation policy.
                        </li>
                        <li>
                            The reservation holder must present a valid Credit Card/ Debit Card at the time of check-in.
                        </li>
                        <li>
                            According to government regulations, it is mandatory to present a valid Photo ID at check in by every person above the age of 18 staying at the hotel. A Driver's License, Voter's Card, Aadhar Card and Passport are all acceptable as identity proof. PLEASE NOTE PAN cards are not a valid ID. Without a valid photo ID with address, no guest will be allowed to check in.
                        </li>
                        <li>
                            The primary guest checking in to the hotel must be at least 18 years of age.
                        </li>

                        <li>  The inclusion of an extra bed with a booking is facilitated with a folding cot or a mattress.</li>

                        <li>A booking cannot be cancelled on or after the check in date and time mentioned in the Hotel Confirmation Voucher.</li>

                        <li>
                            The hotel reserves the right of admission. Accommodation can be denied to guests posing as a ' couple' if suitable proof of identification is not presented at check-in. OneFineRate will not be responsible for any check-in denied by the hotel due to the aforesaid reason.
                        </li>
                        <li>
                            The hotel reserves the right of admission for local residents. Accommodation can be denied to guests residing in the same city. OneFineRate will not be responsible for any check-in denied by the hotel due to the aforesaid reason.
                        </li>
                        <li>
                            For any update to a booking, cancellation/modification charges are applicable as per hotel policy
                        </li>
                        <li>
                            All distances (Airport/Station etc.) are approximate and actual driving distances may vary based on the route taken.
                        </li>
                        <li>
                            Hotels may charge a mandatory meal surcharge on festive periods e.g. Christmas, New Year's Eve etc.  All additional charges (including mandatory meal surcharges) need to be cleared directly at the hotel.
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </div>


    <div id="RoomDetails" class="modal fade" role="dialog">

    </div>

    <div class="modal fade" id="mapDivPopup">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title">@Model.HotelName</h4>
                </div>
                <div class="modal-body" id="popupMapDiv" style="height:450px;overflow:hidden;">

                </div>
                <div class="modal-footer">

                </div>
            </div>
        </div>
    </div>


    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBA8k8_YKEbkfECgXpF6FKdMkMA1jS1qAQ"></script>
    <script src="~/Scripts/Jquery.googleMapLebel.js"></script>
    <script type="text/javascript">

        function OpenPopUp(propid, roomid) {
            //startSpinning();
            var url = '@Url.Action("RoomInfo", "OfferReview")?propid=' + propid + '&roomid=' + roomid;
            $("#RoomDetails").html('');
            $('#RoomDetails').modal({});
            $("#RoomDetails").load(url,function(){
                $('#RoomDetails').modal({
                    show: 'true'
                });
                //stopSpinning();
            });

        }

        var popupMap;


        var myLatlng = new google.maps.LatLng(@Model.dLatitude, @Model.dLongitude);

        var myOptions = {
            zoom: 17,
            center: myLatlng,
            zoomControl: true,
            clickableIcons: false
        };


        var mapLabel = new MapLabel({
            text: '@Model.HotelName',
            position: myLatlng,
            map: popupMap,
            fontSize: 20,
            fontColor:'#A52A2A',
            align: 'Left'
        });

        function initialize() {

            var map = new google.maps.Map(document.getElementById('googleMap'), myOptions);
            popupMap = new google.maps.Map(document.getElementById("popupMapDiv"),myOptions);

            var centerControlDiv = document.createElement('div');
            var centerControl = new CenterControl(centerControlDiv, map);

            centerControlDiv.index = 1;
            map.controls[google.maps.ControlPosition.TOP_CENTER].push(centerControlDiv);

            var marker = new google.maps.Marker({
                position: myLatlng
            });

            var marker2 = new google.maps.Marker({
                position: myLatlng
            });

            marker.setMap(map);

            mapLabel.set('position', myLatlng);

            marker2.bindTo('map', mapLabel);
            marker2.bindTo('position', mapLabel);
            marker2.setDraggable(false);
            marker2.setMap(popupMap);

        }

        google.maps.event.addDomListener(window, 'load', initialize);
        google.maps.event.addDomListener(window, "resize", resizingMap());

        function CenterControl(controlDiv, map) {

            // Set CSS for the control border.
            var controlUI = document.createElement('div');
            controlUI.style.backgroundColor = '#fff';
            controlUI.style.border = '2px solid #fff';
            controlUI.style.borderRadius = '3px';
            controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
            controlUI.style.cursor = 'pointer';
            controlUI.style.marginBottom = '0px';
            controlUI.style.textAlign = 'center';
            controlUI.title = 'Click to View larger Map';
            controlDiv.appendChild(controlUI);

            // Set CSS for the control interior.
            var controlText = document.createElement('div');
            controlText.style.color = '#337ab7';
            controlText.style.fontFamily = 'Roboto,Arial,sans-serif';
            controlText.style.fontSize = '10px';
            controlText.style.lineHeight = '20px';
            controlText.style.paddingLeft = '5px';
            controlText.style.paddingRight = '5px';
            controlText.innerHTML = 'View larger Map';
            controlUI.appendChild(controlText);

            controlUI.addEventListener('click', function() {

                $('#mapDivPopup').modal({
                    show: 'true'
                });
            });
        }


        $('#mapDivPopup').on('show.bs.modal', function() {
            resizeMap();
        })

        function resizeMap() {
            if(typeof popupMap =="undefined") return;
            setTimeout( function(){resizingMap();} , 400);
        }

        function resizingMap() {
            if(typeof popupMap =="undefined") return;
            var center = popupMap.getCenter();
            google.maps.event.trigger(popupMap, "resize");
            popupMap.setCenter(center);
        }


    </script>

                                        }
                                        else
                                        {
                                            <div class="container margintop20 marginbottom30">
                                                <div class="row">
                                                    <div class="tablebluebg">
                                                        No Details Available !
                                                    </div>

                                                    <div style="background:#f2f2f2; padding:15px;">
                                                        <div class=" table-responsive">
                                                            <table class="table">
                                                                <tbody>
                                                                    <tr>
                                                                        <td><b>Booking Status not found !</b></td>

                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        }