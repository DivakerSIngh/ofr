@model OneFineRateBLL.Entities.etblPropertyPromotionMap
@{
    ViewBag.Title = "OFR";
    Layout = "~/Views/Shared/_LayoutIntranet.cshtml";
}


<script src="~/js/Jquery1.10.3.js"></script>
<style>
    .alinghTable td {
        width: 22%;
    }
     label {
        padding-left: 5px !important;
         padding-right : 5px !important
    }
</style>

<link href="~/css/timepicki.min.css" rel="stylesheet" />
<script src="~/js/timepicki.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var d = new Date();
        $('#BookingDateFrom').datepicker({
            startDate: d,
            minDate: d,
            autoclose: true,
            dateFormat: 'dd/mm/yy',
            changeMonth: true,
            changeYear: true,
            onClose: function (selectedDate) {
                $("#BookingDateTo").datepicker("option", "minDate", selectedDate);
            }
        });
        $('#BookingDateTo').datepicker({
            startDate: d,
            minDate: d,
            autoclose: true,
            dateFormat: 'dd/mm/yy',
            changeMonth: true,
            changeYear: true,
            onClose: function (selectedDate) {
                $("#BookingDateFrom").datepicker("option", "maxDate", selectedDate);
            }
        });
        $('#StayDateFrom').datepicker({
            startDate: d,
            minDate: d,
            autoclose: true,
            dateFormat: 'dd/mm/yy',
            changeMonth: true,
            changeYear: true,
            onClose: function (selectedDate) {
                $("#StayDateTo").datepicker("option", "minDate", selectedDate);
            }
        });
        $('#StayDateTo').datepicker({
            startDate: d,
            minDate: d,
            autoclose: true,
            dateFormat: 'dd/mm/yy',
            changeMonth: true,
            changeYear: true,
            onClose: function (selectedDate) {
                $("#StayDateFrom").datepicker("option", "maxDate", selectedDate);
            }
        });

        $("#BookingDateFrom").each(function () {
            var selecteddate = $("#BookingDateFrom").datepicker("getDate");
            var dateString = $.datepicker.formatDate('mm/dd/yy', selecteddate);
            if (dateString == "01/01/2001") {
                $("#BookingDateFrom").datepicker('setDate', new Date());
            }
        });
        $("#BookingDateTo").each(function () {
            var selecteddate = $("#BookingDateTo").datepicker("getDate");
            var dateString = $.datepicker.formatDate('mm/dd/yy', selecteddate);
            if (dateString == "01/01/2001") {
                $("#BookingDateTo").datepicker('setDate', new Date());
            }
        });
        $("#StayDateFrom").each(function () {
            var selecteddate = $("#StayDateFrom").datepicker("getDate");
            var dateString = $.datepicker.formatDate('mm/dd/yy', selecteddate);
            if (dateString == "01/01/2001") {
                $("#StayDateFrom").datepicker('setDate', new Date());
            }
        });
        $("#StayDateTo").each(function () {
            var selecteddate = $("#StayDateTo").datepicker("getDate");
            var dateString = $.datepicker.formatDate('mm/dd/yy', selecteddate);
            if (dateString == "01/01/2001") {
                $("#StayDateTo").datepicker('setDate', new Date());
            }
        });
        $("#ui-datepicker-div").hide();
    });
</script>


<body>
    @using (Html.BeginForm("Save", "PromotionManagement", FormMethod.Post, new { ReturnUrl = ViewBag.ReturnUrl, id = "myform", role = "form" }))
    {

        <div class="panel-group margintop20">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">

                        <b>OFR Freebies</b>
                    </h4>
                </div>
                <div>
                    <div class="panel-body">
                        @*@Html.Partial("pvPromotions", Model)
                            <div class="row">

                            <div class="col-xs-3"><b>Booking</b></div>
                            <div class="col-xs-4" style="padding-left:73px;"><b>Stay Date</b></div>
                            </div>*@

                        @*<div class="row">
                                <div class="col-xs-1" style="width:4%;">From @Html.TextBoxFor(m => m.iID, new { type = "text", @class = "form-control", style = "display: none;" })</div>
                                <div class="col-xs-2" style="width:11%;">
                                    @Html.TextBoxFor(m => m.dtBookingDateFrom, new { Value = Model.dtBookingDateFrom.ToString("MM/dd/yyyy"), type = "text", @class = "form-control ", required = "true", name = "BookingDateFrom", onkeyup = "this.value=''", id = "BookingDateFrom" })
                                </div>
                                <div class="col-xs-1" style="width:4%;">To</div>
                                <div class="col-xs-2" style="width:11%;">
                                    @Html.TextBoxFor(m => m.dtBookingDateTo, new { Value = Model.dtBookingDateTo.ToString("MM/dd/yyyy"), type = "text", @class = "form-control ", required = "true", name = "BookingDateTo", onkeyup = "this.value=''", id = "BookingDateTo" })
                                </div>
                                <div class="col-xs-1" style="width:4%;">From</div>
                                <div class="col-xs-2" style="width:11%;">
                                    @Html.TextBoxFor(m => m.dtStayDateFrom, new { Value = Model.dtStayDateFrom.ToString("MM/dd/yyyy"), type = "text", @class = "form-control ", required = "true", name = "StayDateFrom", onkeyup = "this.value=''", id = "StayDateFrom" })
                                </div>
                                <div class="col-xs-1" style="width:4%;">To</div>
                                <div class="col-xs-2" style="width:11%;">
                                    @Html.TextBoxFor(m => m.dtStayDateTo, new { Value = Model.dtStayDateTo.ToString("MM/dd/yyyy"), type = "text", @class = "form-control ", required = "true", name = "StayDateTo", onkeyup = "this.value=''", id = "StayDateTo" })
                                </div>
                                <div class="col-xs-2"></div>
                            </div>*@

                        <div class="row">
                            <div class="col-xs-1">Booking @Html.TextBoxFor(m => m.iID, new { type = "text", @class = "form-control", style = "display: none;" })</div>
                            <div class="col-xs-2">
                                @Html.TextBoxFor(m => m.dtBValidFrom, new { Value = Model.dtBValidFrom, type = "text", @class = "form-control", required = "true", name = "BookingDateFrom", onkeyup = "this.value=''", id = "BookingDateFrom" })
                            </div>
                            <div class="col-xs-2">
                                @Html.TextBoxFor(m => m.dtBValidTo, new { Value = Model.dtBValidTo, type = "text", @class = "form-control", required = "true", name = "BookingDateTo", onkeyup = "this.value=''", id = "BookingDateTo" })
                            </div>
                            <div class="col-xs-1 ">Stay Date</div>
                            <div class="col-xs-2">
                                @Html.TextBoxFor(m => m.dtSValidFrom, new { Value = Model.dtSValidFrom, type = "text", @class = "form-control", required = "true", name = "StayDateFrom", onkeyup = "this.value=''", id = "StayDateFrom" })
                            </div>
                            <div class="col-xs-2">
                                @Html.TextBoxFor(m => m.dtSValidTo, new { Value = Model.dtSValidTo, type = "text", @class = "form-control", required = "true", name = "StayDateTo", onkeyup = "this.value=''", id = "StayDateTo" })
                            </div>
                            <div class="col-xs-2"></div>
                        </div>


                        <div class="row margintop10">
                            <div class="col-xs-12">
                                <b>Room Type for the Rate plan</b>

                            </div>
                            <div class="col-md-12">
                                @{  var putCheckBoxesIntoTablenew1 = new MvcCheckBoxList.Model.HtmlListInfo(MvcCheckBoxList.Model.HtmlTag.table, 5, new { @class = "alinghTable", style = "width:100%;" }); }
                                @Html.CheckBoxListFor(m => m.SelectedRoomType, m => m.RoomTypeItems,
                                                        group => group.Value,
                                                        group => group.Text,
                                                        m => m.Selected, putCheckBoxesIntoTablenew1)

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                <b>  Meals or amenities to be added</b>

                            </div>
                            <div class="col-md-12">
                                @{  var putCheckBoxesIntoTablenew2 = new MvcCheckBoxList.Model.HtmlListInfo(MvcCheckBoxList.Model.HtmlTag.table, 5, new { @class = "alinghTable", style = "width:100%;" }); }
                                @Html.CheckBoxListFor(m => m.SelectedAmenityID, m => m.Amenties,
                                                        group => group.Value,
                                                        group => group.Text,
                                                        m => m.Selected, putCheckBoxesIntoTablenew2,
                                                        x => new { @class = " CheckBoxList" })
                            </div>

                        </div>
                        <div class="row margintop10">
                            <div class="col-xs-2">All Amenities (1000 char)</div>
                            <div class="col-xs-8">
                                @Html.TextAreaFor(m => m.sAmenity, new { type = "text", maxlength = "1000", @class = "form-control" })
                            </div>

                        </div>

                        <div class="row box2 margintop20">
                            <div class="col-md-12">
                                <div class="col-xs-2" style="width:14% !important;">Is it a Secret Deal</div>
                                <div class="col-xs-10" style="padding-left:0px !important;">
                                    @Html.RadioButtonFor(m => m.bIsSecretDeal, "true") <span> Yes</span>
                                    @Html.RadioButtonFor(m => m.bIsSecretDeal, "false")<span> No</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Panel 1 div END  -->

            <br />
            <div class="row pull-right">
                <div class="col-xs-12">
                    @if (Model.cStatus == "I")
                    {

                        <input name="" type="button" class="btn btn-danger" onclick="window.location = '../PromotionManagement';" value="Cancel">
                    }
                    else
                    {
                        <input name="" type="submit" class="btn btn-primary" value="Save">
                        <input name="" type="button" class="btn btn-danger" onclick="window.location = '../PromotionManagement';" value="Cancel">
                    }

                </div>
            </div>
            <br />
        </div>
    }
</body>

