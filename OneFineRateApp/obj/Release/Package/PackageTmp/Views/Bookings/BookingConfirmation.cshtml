@model OneFineRateBLL.Entities.eBookingModify
@using OneFineRateAppUtil
@{
    ViewBag.Title = "BookingConfirmation";
    Layout = "~/Views/Shared/_LayoutIntranet.cshtml";
}

<style>
    .boundary {
        border: 1px solid black;
        padding:10px
    }
</style>


@if (Model.BookingRoomDetails != null && Model.BookingRoomDetails.Count > 0)
{
    var mobileNo = !string.IsNullOrWhiteSpace(Model.CountryPhoneCode) ? string.Concat(Model.CountryPhoneCode, Model.MobileOFR) : Model.MobileOFR;
    <div class="thirdsection margintop20">
        <div class="container">
            <div class="row">
                <div class="confbluehdg">

                    @if (Model.cBookingType == "N" && Model.cBookingStatus == "NC")
                    {
                        @*<strong class="fontsize18a">Thank You @Model.Booker! We have recieved your negotiation. <br /><span class="font16">@Model.sMessage</span></strong>*@
                        <strong class="fontsize18a">Confirmation</strong>

                    }
                    else
                    {
                        if (Model.cBookingStatus == "MD" || Model.cBookingStatus == "MR")
                        {
                            <strong class="fontsize18a">Congratulations @Model.Booker! Your reservation is now modified.</strong>
                        }
                        else
                        {
                            @*<strong class="fontsize18a">Thank You @Model.Booker! Your reservation is now confirmed.</strong>*@
                            <strong class="fontsize18a">Confirmation</strong>
                        }
                    }

                </div>

                <div class="col-md-8 col-xs-12">
                    <div class="row">
                        <div class="col-md-4 col-xs-5">
                            <img src="@Model.sImgUrl" class="imgheight150" />
                        </div>
                        <div class="col-md-8 col-xs-7">
                            <h4 style="font-weight:bold;">@Model.HotelName</h4>
                            <img src="~/images/inner-star@(Model.StarCategoryId).png" /><br />
                            @Model.StreetAddress <br />
                            @Model.Address
                        </div>
                    </div>

                    @*<div class="row">
                            <div class="col-md-2 col-xs-5"><strong>Status </strong></div>
                            <div class="col-xs-1" style="width:1% !important;">:</div>
                            <div class="col-md-3 col-xs-6 ">@Model.BookingStatus</div>
                            <div class="col-md-2 col-xs-5"><strong>Booking Id </strong></div>
                            <div class="col-xs-1" style="width:1% !important;">:</div>
                            <div class="col-md-3 col-xs-6 ">@Model.BookingId</div>
                        </div>*@

                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Status </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12 ">@Model.BookingStatus</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Booking Id </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12 ">@Model.BookingId</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5 "><strong>Type Of Booking </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        @if (Model.cBookingType == "N" && Model.ActualBookingType == "B")
                        {
                            <div class="col-md-3 col-xs-12 ">Bid</div>
                        }
                        else if (Model.cBookingType == "N")
                        {
                            <div class="col-md-3 col-xs-12 ">Negotiate</div>
                        }
                        else if (Model.cBookingType == "B")
                        {
                            <div class="col-md-3 col-xs-12 ">Bid</div>
                        }
                        else if (Model.cBookingType == "C")
                        {
                            <div class="col-md-3 col-xs-12 ">Corporate</div>
                        }
                        else
                        {
                            <div class="col-md-3 col-xs-12 ">Buy</div>
                        }
                    </div>

                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Your Reservation </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12 ">@Model.Reservation</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Check-In Date  </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12 ">@Model.CheckIn</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Chect-Out Date</strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12 ">@Model.ChekOut</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5 "><strong>Booking Date </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12 ">@Model.ReservationDate</div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Booked By </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12">@Model.Booker</div>

                    </div>

                    @if (!string.IsNullOrEmpty(Model.EntityName))
                    {  <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Entity Name</strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12">@Model.EntityName</div>
                    </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.GstnNumber))
                    {<div class="row">
                        <div class="col-md-2 col-xs-5"><strong>GSTIN Number </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12">@Model.GstnNumber</div>
                    </div>
                    }



                    @if (!string.IsNullOrEmpty(Model.TypeOfEntity) && !string.IsNullOrEmpty(Model.TypeOfEntity.Trim()))
                    { <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Type Of Entity</strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12">@Model.TypeOfEntity</div>
                    </div>
                    }


                    @if (!string.IsNullOrEmpty(Model.EntityAddress))
                    { <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>Entity Address</strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12">@Model.EntityAddress</div>
                    </div>
                    }


                    @*<div class="row">
                            <div class="col-md-2 col-xs-5"><strong>E-mail Id  </strong></div>
                            <div class="col-xs-1" style="width:1% !important;">:</div>
                            <div class="col-md-3 col-xs-6">@Model.EmailOFR</div>
                        </div>*@

                    @if (!string.IsNullOrEmpty(Model.StateCode))
                    { <div class="row">
                        <div class="col-md-2 col-xs-5"><strong>State (Code) </strong></div>
                        <div class="col-xs-1" style="width:1% !important;">:</div>
                        <div class="col-md-3 col-xs-12">@Model.State (@Model.StateCode)</div>
                    </div>
                    }

                    @if (!string.IsNullOrEmpty(Model.CompanyName))
                    {
                        <div class="row">
                            <div class="col-md-2 col-xs-5"><strong>Company  </strong></div>
                            <div class="col-xs-1" style="width:1% !important;">:</div>
                            <div class="col-md-3 col-xs-12">@Model.CompanyName</div>
                        </div>
                    }
                </div>


                @* Commented After Akshat Testing on 7-11-2017 *@

                @*<div class="col-md-4 col-xs-12">
                        <div class="row">
                            <div class="margintop10 border1" style="width:100%;">
                                <div id="googleMap" style=" width:100%;height:150px;"></div>
                            </div>
                        </div>

                        @if (Model.cBookingStatus == "NC" && Model.cBookingType == "N")
                        {
                            <br />
                            <div class="row">
                                <div class="col-xs-7"><strong>Your Negotiation Amount</strong></div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalNegotiateAmount) - Convert.ToDecimal(Model.sExtra2))</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Tax and Service Fees:</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrServiceCharge) + Convert.ToDecimal(Model.sExtra2) + Convert.ToDecimal(Model.dOfrGSTONServiceCharge))</div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-xs-7"><b>Total Charges </b></div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4"><b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dSubTotalNego))</b></div>
                            </div>
                        }
                        else if (Model.cBookingType == "B") // B- Bidding
                        {
                            <div class="row">
                                <div class="col-xs-9"><h4>RATE INFORMATION </h4></div>
                                <div class="col-xs-3"></div>
                            </div>
                            <div class="row">
                                <div class="col-xs-7">Rate Per Night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dBidAmount))</div>
                            </div>


                            <div class="row">
                                <div class="col-xs-7">Taxes per Night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.TaxPerNight))</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Total Gross charges</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dCustomerPayable) + Convert.ToDecimal(Model.Tax))</div>
                            </div>

                        if (Convert.ToDecimal(Model.dOfrServiceCharge) > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">OFR Service charge</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrServiceCharge))</div>
                            </div>

                            if (Model.GST_Same_State)
                            {
                            <div class="row">
                                <div class="col-xs-7">CGST on OFR Service Charge (@Model.SGST_Per) </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @Model.SGST_Val</div>
                            </div>
                                <div class="row">
                                    <div class="col-xs-7">SGST on OFR Service Charge (@Model.SGST_Per) </div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @Model.SGST_Val</div>
                                </div>
                            }
                            else
                            {
                                <div class="row">
                                    <div class="col-xs-7">IGST on Service Charge(@Model.dGstOnCommissionPercent%)</div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @Model.dOfrGSTONServiceCharge</div>
                                </div>
                            }
                        }
                            <hr />
                            <div class="row">
                                <div class="col-xs-7"><b>Total Charges </b></div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">
                                    <b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dCustomerPayable) + Convert.ToDecimal(Model.Tax) + Convert.ToDecimal(Model.dOfrGSTONServiceCharge) + Convert.ToDecimal(Model.dOfrServiceCharge) - Convert.ToDecimal(Model.dTotalCommission)) </b>
                                </div>
                            </div>
                        }
                        else
                        {
                            <br />
                            <div class="row">
                                <div class="col-xs-9"><h4>RATE INFORMATION </h4></div>
                                <div class="col-xs-3"></div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Rate Per Night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.AvgAmount))</div>
                            </div>

                            if (Model.ExtraBedAmount != 0)
                            {
                                <div class="row">
                                    <div class="col-xs-7">Extra Bed Charges</div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.ExtraBedAmount))</div>
                                </div>
                            }

                            <div class="row">
                                <div class="col-xs-7">Taxes per Night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.TaxPerNight))</div>
                            </div>
                            <div class="row">
                                <div class="col-xs-7">Total Gross charges</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dCustomerGrossCharges))</div>
                            </div>

                        if (Convert.ToDecimal(Model.dOfrServiceCharge) > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">OFR Service charge</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrServiceCharge))</div>
                            </div>

                            if (Model.GST_Same_State)
                            {
                                <div class="row">
                                    <div class="col-xs-7">CGST on OFR Service Charge (@Model.SGST_Per) </div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.SGST_Val))</div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-7">SGST on OFR Service Charge (@Model.SGST_Per) </div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.SGST_Val))</div>
                                </div>
                            }
                            else
                            {
                                <div class="row">
                                    <div class="col-xs-7">IGST on Service Charge(@Model.dValue%)</div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dOfrGSTONServiceCharge))</div>
                                </div>
                            }
                        }

                        if (Model.dDiscountedBidPrice > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">OFR Discount </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dDiscountedBidPrice))</div>
                            </div>
                            }
                            if (Model.bPromoDiscount == false && @Model.bPromoAmenity != "")
                            {
                                <div class="row">
                                    <div class="col-xs-7">OFR Discount </div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.bPromoAmenity</div>
                                </div>
                            }

                            <hr />
                            <div class="row">
                                <div class="col-xs-7"><b>Total Charges </b></div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4"><b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Model.dCustomerTotalCharges)</b></div>
                            </div>

                        }
                    </div>*@


                @* Added After Akshat Testing on 7-11-2017 *@

                <div class="col-md-4 col-xs-12">
                    <div class="row">
                        <div class="margintop10 border1" style="width:100%;">
                            <div id="googleMap" style=" width:100%;height:150px;"></div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-xs-9"><h4>Rate Information</h4></div>
                        <div class="col-xs-3"></div>
                    </div>

                    @if (Model.cBookingType == "B")
                    {
                        <div class="boundary">

                            <div class="row">
                                <div class="col-xs-7">Hotel Public Rate Per night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dHotelPublicRatePerNight_Bid))</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Discount</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@(Convert.ToDecimal(Model.dDiscount_Bid))%</div>
                            </div>

                            <hr />

                            <div class="row">
                                <div class="col-xs-7">Discounted Rate per night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dDiscountRatePerNight_Bid))</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Total Discounted rate</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalDiscountedRate_Bid))</div>
                            </div>

                            <hr />

                            <div class="row">
                                <div class="col-xs-7">Guest Bid Amount per night</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dGuestBidAmountPerNight_Bid))</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Total Guest Bid Rate</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalGuestBidRate_Bid))</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Hotel Taxes </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Model.dTaxesForHotel)</div>
                            </div>

                            <div class="row">
                                <div class="col-xs-7">Hotel Gross charges </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Model.dHotelGrossCharges)</div>
                            </div>
                            <hr />

                            @if (Convert.ToDecimal(Model.Comm) > 0)
                            {
                                <div class="row">
                                    <div class="col-xs-7">Commission ( @Model.dCommissionPer% ) </div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.Comm))</div>
                                </div>

                                if (Convert.ToDecimal(Model.dGstOnCommission) > 0)
                                {
                                    <div class="row">
                                        <div class="col-xs-7">GST on Commission ( @Model.dGstOnCommissionPercent% )</div>
                                        <div class="col-xs-1">:</div>
                                        <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dGstOnCommission))</div>
                                    </div>
                                }

                                <div class="row">
                                    <div class="col-xs-7">Total OFR Commission </div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalCommission))</div>
                                </div>
                            }
                            <hr />
                            <div class="row">
                                <div class="col-xs-7"><b> Total Payable to Hotel</b></div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4"><b>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalPayableToHotel))</b> </div>
                            </div>

                        </div>
                    }

                    else
                    {

                        <div class="row">
                            <div class="col-xs-7">Hotel Rate Per night</div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dHotelRatePerNight))</div>
                        </div>

                        <div class="row">
                            <div class="col-xs-7">Hotel Taxes per night</div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.TaxPerNight))</div>
                        </div>

                        if (Model.ExtraBedAmount > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">Extra Bed Charges</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.ExtraBedAmount))</div>
                            </div>
                        }

                        <div class="row">
                            <div class="col-xs-7">Hotel Total Gross charges</div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Model.dHotelGrossCharges)</div>
                        </div>


                        if (Convert.ToDecimal(Model.Comm) > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">Commission ( @Model.dCommissionPer% )</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.Comm))</div>
                            </div>
                            if (Convert.ToDecimal(Model.dGstOnCommission) > 0)
                            {
                                <div class="row">
                                    <div class="col-xs-7">GST on Commission ( @Model.dGstOnCommissionPercent% )</div>
                                    <div class="col-xs-1">:</div>
                                    <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dGstOnCommission))</div>
                                </div>
                            }
                            <div class="row">
                                <div class="col-xs-7">Total OFR Commission </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalCommission))</div>
                            </div>
                        }

                        if (Model.dDiscountedBidPrice > 0)
                        {
                            <div class="row">
                                <div class="col-xs-7">OFR Commission Discount</div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dDiscountedBidPrice))</div>
                            </div>
                        }

                        if (Model.bPromoDiscount == false && !string.IsNullOrEmpty(Model.bPromoAmenity))
                        {
                            <div class="row">
                                <div class="col-xs-7">OFR Commission Discount </div>
                                <div class="col-xs-1">:</div>
                                <div class="col-xs-4">@Model.bPromoAmenity</div>
                            </div>
                        }
                        <hr />
                        <div class="row">
                            <div class="col-xs-7"><b> Total Payable to Hotel</b></div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-4"><b> @Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dTotalPayableToHotel == string.Empty ? "0" : Model.dTotalPayableToHotel))</b></div>
                        </div>

                    }
                </div>





                @if (Model.cBookingStatus == "NC" && Model.cBookingType == "N")
                {
                    <div class="col-xs-12">
                        <div class="bluehdg paddlefttop">
                            <h5>Negotiation and Important Information</h5>
                        </div>
                        <div class="text-justify lineheight20">Please allow us approximately 3 hours to get you the rate of your choice (during business hours). If your negotiation is received beyond Business Hours, them we will get back to you within 3 hours of the next business hour cycle. If your negotiation is not accepted by the hotel, then INR 500 will be refunded back to you with the next 24 hours. In case, your negotiation is successful and the balance amount not paid, them the advance of INR 500 will be forfeited.</div>
                    </div>
                }
            </div>

            @if (Model.cBookingStatus != "NC")
            {
                <div class="table-responsive margintop20">
                    <div class="tablebluebg ">Guest Information</div>
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th style="width:10%;">Room</th>
                                <th style="width:10%;">Room Type</th>
                                <th style="width:12%;">Per Night Rate</th>
                                <th style="width:10%;">Guest Name</th>
                                <th style="width:5%;">Adults</th>
                                <th style="width:12%;">Bed Preference</th>
                                <th style="width:8%;">Extra Bed</th>
                                <th style="width:16%;">Cancellation Policy</th>
                                <th style="width:17%;">Inclusion</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.BookingRoomDetails.Count; i++)
                            {
                                <tr>
                                    <td>@Model.BookingRoomDetails[i].RoomNo</td>
                                    <td><a href="javascript:void(0)" onclick="OpenPopUp('@Model.PropId','@Model.BookingRoomDetails[i].RoomId')">@Model.BookingRoomDetails[i].RoomName</a></td>
                                    <td>@Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.BookingRoomDetails[i].RoomRate))</td>
                                    <td>@Model.BookingRoomDetails[i].GuestName</td>
                                    <td>@Model.BookingRoomDetails[i].Occupancy</td>
                                    <td>@Model.BookingRoomDetails[i].BedPrefer</td>
                                    <td>@Model.BookingRoomDetails[i].ExtraBed</td>
                                    <td>
                                        @Html.Raw(HttpUtility.HtmlDecode(Model.BookingRoomDetails[i].PolicyName))
                                    </td>
                                    @{
                                        string rateInclusions = Model.BookingRoomDetails[i].AmenityRatePlan.Replace("|", "<br/>");
                                    }
                                    <td>@Html.Raw(rateInclusions)</td>
                                </tr>
                                        }
                        </tbody>
                    </table>
                </div>
                <div class="row margintop10">
                    <!--Guest Information-->
                    <div class="col-xs-6">

                        <div class="table-responsive margintop20">
                            <div class="tablebluebg ">Preferences</div>
                            <table class="table table-striped table-bordered table-hover">
                                @{
                                    var Count = 0;
                                }
                                @if (Convert.ToString(Model.SingleLady) != "")
                                {
                                    Count++;
                                    <tr>
                                        <td> @Model.SingleLady </td>
                                    </tr>
                                }
                                @if (Convert.ToString(Model.SmokingRoom) != "")
                                {
                                    Count++;
                                    <tr>
                                        <td> @Model.SmokingRoom </td>
                                    </tr>
                                }
                                @if (Convert.ToString(Model.Elevator) != "")
                                {
                                    Count++;
                                    <tr>
                                        <td> @Model.Elevator </td>
                                    </tr>
                                }
                                @if (Convert.ToString(Model.QuietRoom) != "")
                                {
                                    Count++;
                                    <tr>
                                        <td> @Model.QuietRoom </td>
                                    </tr>
                                }

                                @if (Count == 0)
                                {
                                    <tr>
                                        <td>NA</td>
                                    </tr>
                                }

                            </table>

                            @if (!String.IsNullOrEmpty(Model.SpecialOccasion))
                            {

                                <strong> @Model.SpecialOccasion</strong>
                                <br />
                            }

                            <span class="star">*</span> Please note that all preferences will be subject to availablity &amp; at the sole descriptions of the hotel. You can also directly contact the hotel for any further assistance.
                        </div>
                    </div>
                    <div class="col-xs-6">
                        <div class="row">
                            <div class="col-xs-12"><strong> Special Requests</strong> </div>
                        </div>
                        <hr />
                        <div class="row">
                            <div class="col-xs-12">@Model.SpecialRequest</div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4"><strong>Expected Check-in time</strong></div>
                            <div class="col-xs-1">:</div>
                            <div class="col-xs-6"><strong>@Model.ExpectedCheckIn</strong></div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 lineheight20 "><span class="star">*</span> Please note that the check-in time of the hotel is <strong>1200 hrs</strong>. Early check-in will subject to availability and may incur extra charges. Any request for pickup needs to be coordinated with the hotel directly.</div>
                        </div>
                        <hr />
                        @if (Model.Pickup == "Yes")
                        {
                            <div class="row">

                                @if (!String.IsNullOrEmpty(Model.FlightNumber))
                                {
                                    <div class="col-xs-3"><strong>Transfer Details :</strong></div>
                                    <div class="col-xs-3">@Model.FlightNumber</div>
                                }

                                @if (!String.IsNullOrEmpty(Model.EstimateArrivalTime))
                                {
                                    <div class="col-xs-2"><strong>Arrival Time :</strong></div>
                                    <div class="col-xs-3">@Model.EstimateArrivalTime</div>
                                }
                            </div>
                            if (!String.IsNullOrEmpty(Model.TypeOfCar))
                            {
                                <div class="row">
                                    <div class="col-xs-3"><strong>Type of Car :</strong></div>
                                    <div class="col-xs-3">@Model.TypeOfCar</div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12"><span class="star">*</span> The charges  for the car to be paid at the hotel directly.</div>

                                </div>
                            }
                        }
                    </div>
                </div>
                                    }
            <!-- End  table -->
        </div>
        <!-- container div END bottom -->
    </div>

    <div class="container margintop20">
        <div class="row">
            <div class="col-xs-12">
                <div class="tablebluebg">
                    Hotel Policies
                </div>
                <div style="background:#f2f2f2; padding:15px;">
                    <div class=" table-responsive">
                        <table class="table">
                            <tbody>
                               
                                @if (!String.IsNullOrEmpty(Model.sCheckInMM))
                                {
                                    <tr>
                                        <td><b>Check-In</b></td>
                                        <td>:</td>
                                        <td>

                                            @if (Model.b24HrsCheckIn == true)
                                            {
                                                <text>
                                                    24 hours Check-In is Available. Early Check-In is @if (Model.bEarlyCheckInChargeable == true)
                                                    { <text>Chargeable</text> }
                                                    else
                                                    {<text>Not Chargeable</text>}
                                                </text>
                                            }
                                            else
                                            {
                                                <text>
                                                    From @Html.DisplayFor(m => m.sCheckInHH):@Html.DisplayFor(m => m.sCheckInMM). Early Check-In is @if (Model.bEarlyCheckInChargeable == true)
                                                    { <text>Chargeable</text> }
                                                    else
                                                    {<text>Not Chargeable</text>}
                                                </text>
                                            }
                                        </td>
                                    </tr>
                                }


                                @if (!String.IsNullOrEmpty(Model.sCheckoutMM))
                                {
                                    <tr>
                                        <td><b>Check-out</b></td>
                                        <td>:	</td>
                                        <td>
                                            @if (Model.b24HrsCheckout == true)
                                            {
                                                <text>
                                                    24 hours Check-Out is Available. Late Check-Out is @if (Model.bEarlyCheckoutChargeable == true)
                                                    { <text>Chargeable</text> }
                                                    else
                                                    {<text>Not Chargeable</text>}
                                                </text>
                                            }
                                            else
                                            {
                                                <text>
                                                    Until @Html.DisplayFor(m => m.sCheckoutHH):@Html.DisplayFor(m => m.sCheckoutMM). hrs @clsUtils.GetTimeType(Model.sCheckoutHH)Late Check-Out is @if (Model.bEarlyCheckoutChargeable == true)
                                                    { <text>Chargeable</text> }
                                                    else
                                                    {<text>Not Chargeable</text>}
                                                </text>
                                            }
                                        </td>
                                    </tr>
                                }

                                <tr>
                                    <td><b>Cancellation/ Prepayment</b></td>
                                    <td>:	</td>
                                    <td>Cancellation and prepayment policies vary according to room type. Please check what room conditions may apply when selecting room.</td>
                                </tr>

                                @*<tr>
                                    <td><b>Children and Extra Beds</b></td>
                                    <td>:	</td>
                                    <td colspan="2">

                                        <p>All children are welcome</p>
                                        <p>Complementary stay for children below @Html.DisplayFor(m => m.iComplimentaryStayAge) years without extra bed</p>
                                        <p>Extrabed required for children from @Html.DisplayFor(m => m.iExtraBedRequiredFrom) years</p>
                                        <p>Extra child or an adult using an Extrabed will be charged at  @Model.Symbol @clsUtils.ConvertNumberToCommaSeprated(Convert.ToDecimal(Model.dExtraBedCharges)) excluding taxes</p>
                                        <p>@Html.DisplayFor(m => m.iMinCheckInAge) years is Minimum age of check in</p>

                                    </td>
                                </tr>*@

                                <tr>
                                    <td><b>Children and Extra Beds</b></td>
                                    <td>:	</td>
                                    <td colspan="2">
                                        <ul class="mar-padd0">

                                            <li>All children are welcome</li>
                                            @if (Model.iComplimentaryStayAge != null)
                                            {
                                                <li> Children upto @Html.DisplayFor(m => m.iComplimentaryStayAge) years stay for free. Extra cot/ bed may be chargeable</li>
                                            }

                                            <li>Extrabed required for children from @Html.DisplayFor(m => m.iExtraBedRequiredFrom) years</li>
                                            <li>
                                                Extra child or an adult using an extra bed will be charged at @Model.Symbol
                                                @{
                                                    string ExPrice = clsUtils.ConvertNumberToCommaSeprated(Model.ExtraBedChargesAsPolicy);
                                                }

                                                @ExPrice

                                                excluding taxes.
                                            </li>
                                            <li>@Html.DisplayFor(m => m.iMinCheckInAge) years is Minimum age of check in</li>
                                        </ul>
                                    </td>
                                </tr>

                                <tr>
                                    <td><b>Other Polices</b></td>
                                    <td>:</td>
                                    <td>
                                        <ul class="mar-padd0">
                                            @if (Model.bVisitorsAllowed == true)
                                            {
                                                <li>Visitors are allowed.</li>
                                            }

                                            @if (Model.bAlcoholAllowedOnsite == true)
                                            {
                                                <li>Alcohol allowed onsite</li>
                                            }

                                            @if (Model.bAlcoholServedOnsite == true)
                                            {
                                                <li>Alcohol Served onsite</li>
                                            }

                                            @if (Model.bPetsAllowed == true)
                                            {
                                                <li>Pets are allowed.</li>
                                            }
                                            else
                                            {
                                                <li>Pets are not allowed.</li>
                                            }

                                            @if (Model.bPartiesAllowed == true)
                                            {
                                                <li>Stag/ bachelor and hen/ bachelorette parties are allowed.</li>
                                            }
                                        </ul>
                                    </td>
                                </tr>

                                @if (Model.lstCreditCards != null)
                                {
                                    if (Model.lstCreditCards.Count > 0)
                                    {
                                        <tr>
                                            <td><b>Cards accepted at this property</b> </td>
                                            <td>:</td>
                                            <td>
                                                @foreach (var item in Model.lstCreditCards)
                                                {
                                                    <img src="@item.sImg">
                                                }
                                            </td>
                                        </tr>
                                    }
                                }

                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- container div END bottom -->
                                    <div class="container margintop20 marginbottom10">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <div class=" tablebluebg">
                                                    OneFineRate Important Info
                                                </div>

                                                <div style="background:#f2f2f2; padding:15px;">
                                                    <div class=" table-responsive table-bordered padding15 lightgrybg infopara">
                                                        <ul class="bullets">
                                                            <li>Requests for bed types, early check in, late check out, smoking room etc cannot be guaranteed. These requests must be made directly to the hotel confirmed and are subject to availability.</li>
                                                            <li><strong>Reservation is guaranteed for arrival on the check-in date only.</strong> To avoid cancellation of your reservation due to a no show please alert the hotel xx days/ hours in advance to claim a refund.</li>
                                                            <li>The reservation holder must present a valid credit card at check-in. </li>
                                                            <li>According to government regulations, it is mandatory to present a valid Photo ID at check in by every person above the age of 18 staying at the hotel. A Drivers License, Voters Card, Passport are all acceptable as identity proof, however, please note PAN cards are not a valid ID. Without a valid ID no guest will be allowed to check in. </li>
                                                            <li>The inclusion of an extra bed with a booking is facilitated with a folding cot or a mattress.</li>
                                                            <li>A booking cannot be cancelled on or after the check in date and time mentioned in the Hotel Confirmation Voucher.</li>
                                                            <li>
                                                                The hotel reserves the right of admission. Accommodation can be denied to guests posing as a ' couple' if suitable proof of identification is not presented at check-in. OneFineRate will not be responsible for any check-in denied by the hotel due to the aforesaid reason.
                                                            </li>
                                                            <li>
                                                                All distances (Airport/Station etc.) are approximate and actual driving distances may vary based on the route taken.
                                                            </li>
                                                            <li>
                                                                Hotels may charge a mandatory meal surcharge on festive periods e.g. Christmas, New Year's Eve etc... All additional charges (including mandatory meal surcharges) need to be cleared directly at the hotel.
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div id="RoomDetails" class="modal fade" role="dialog">

                                    </div>

                                    <div class="modal fade" id="mapDivPopup">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                    <h4 class="modal-title">@Model.HotelName</h4>
                                                </div>
                                                <div class="modal-body" id="popupMapDiv" style="height:450px;overflow:hidden;">

                                                </div>
                                                <div class="modal-footer">

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <link href="~/Content/horizontalSlider.css" rel="stylesheet" />

                                    <script src="~/Scripts/horizontalSlider.js"></script>

                                    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBA8k8_YKEbkfECgXpF6FKdMkMA1jS1qAQ"></script>
                                    <script src="~/Scripts/Jquery.googleMapLebel.js"></script>
                                    <script type="text/javascript">

        function OpenPopUp(propid, roomid) {
            // startSpinning();

            var url = '@Url.Action("RoomInfo", "Bookings")?propid=' + propid + '&roomid=' + roomid;
            $("#RoomDetails").html('');
            $("#RoomDetails").load(url,function(){
                //stopSpinning();
            });
            $('#RoomDetails').modal({
                show: 'true'
            });
        }

        var popupMap;


        var myLatlng = new google.maps.LatLng(@Model.dLatitude, @Model.dLongitude);

        var myOptions = {
            zoom: 17,
            center: myLatlng,
            zoomControl: true,
            clickableIcons: false
        };


        var mapLabel = new MapLabel({
            text: '@Model.HotelName',
            position: myLatlng,
            map: popupMap,
            fontSize: 20,
            fontColor:'#A52A2A',
            align: 'Left'
        });

        function initialize() {

            var map = new google.maps.Map(document.getElementById('googleMap'), myOptions);
            popupMap = new google.maps.Map(document.getElementById("popupMapDiv"),myOptions);

            var centerControlDiv = document.createElement('div');
            var centerControl = new CenterControl(centerControlDiv, map);

            centerControlDiv.index = 1;
            map.controls[google.maps.ControlPosition.TOP_CENTER].push(centerControlDiv);

            var marker = new google.maps.Marker({
                position: myLatlng
            });

            var marker2 = new google.maps.Marker({
                position: myLatlng
            });

            marker.setMap(map);

            mapLabel.set('position', myLatlng);

            marker2.bindTo('map', mapLabel);
            marker2.bindTo('position', mapLabel);
            marker2.setDraggable(false);
            marker2.setMap(popupMap);

        }

        google.maps.event.addDomListener(window, 'load', initialize);
        google.maps.event.addDomListener(window, "resize", resizingMap());

        function CenterControl(controlDiv, map) {

            // Set CSS for the control border.
            var controlUI = document.createElement('div');
            controlUI.style.backgroundColor = '#fff';
            controlUI.style.border = '2px solid #fff';
            controlUI.style.borderRadius = '3px';
            controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
            controlUI.style.cursor = 'pointer';
            controlUI.style.marginBottom = '0px';
            controlUI.style.textAlign = 'center';
            controlUI.title = 'Click to View larger Map';
            controlDiv.appendChild(controlUI);

            // Set CSS for the control interior.
            var controlText = document.createElement('div');
            controlText.style.color = '#337ab7';
            controlText.style.fontFamily = 'Roboto,Arial,sans-serif';
            controlText.style.fontSize = '10px';
            controlText.style.lineHeight = '20px';
            controlText.style.paddingLeft = '5px';
            controlText.style.paddingRight = '5px';
            controlText.innerHTML = 'View larger Map';
            controlUI.appendChild(controlText);

            // Setup the click event listeners
            //  var url =   'https://www.google.com/maps/place/the+Ashoka/28.5983307,77.1931878,17z?hl=en-US';

            controlUI.addEventListener('click', function() {

                $('#mapDivPopup').modal({
                    show: 'true'
                });
            });
        }


        $('#mapDivPopup').on('show.bs.modal', function() {
            resizeMap();
        })

        function resizeMap() {
            if(typeof popupMap =="undefined") return;
            setTimeout( function(){resizingMap();} , 400);
        }

        function resizingMap() {
            if(typeof popupMap =="undefined") return;
            var center = popupMap.getCenter();
            google.maps.event.trigger(popupMap, "resize");
            popupMap.setCenter(center);
        }

                                    </script>

                                    }
                                    else
                                    {
                                        <div class="container margintop20 marginbottom30">
                                            <div class="row">
                                                <div class="tablebluebg">
                                                    No Details Available !
                                                </div>

                                                <div style="background:#f2f2f2; padding:15px;">
                                                    <div class=" table-responsive">
                                                        <table class="table">
                                                            <tbody>
                                                                <tr>
                                                                    <td><b>Booking Status not found !</b></td>

                                                                    <td></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }