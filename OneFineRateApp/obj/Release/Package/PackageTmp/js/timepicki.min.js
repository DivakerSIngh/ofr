(function(n){n.fn.timepicki=function(t){var r={format_output:function(n,t,r){return i.show_meridian?n+" : "+t+" : "+r:n+":"+t},increase_direction:"down",custom_classes:"",min_hour_value:1,max_hour_value:12,show_meridian:!0,step_size_hours:"1",step_size_minutes:"1",overflow_minutes:!1,disable_keyboard_mobile:!1,reset:!1},i=n.extend({},r,t);return this.each(function(){function a(t){return n.contains(u[0],t[0])||u.is(t)}function v(n,u){var f=t.find(".ti_tx input").val(),e=t.find(".mi_tx input").val(),o="";i.show_meridian&&(o=t.find(".mer_tx input").val());f.length===0||e.length===0||i.show_meridian&&o.length===0||(r.attr("data-timepicki-tim",f),r.attr("data-timepicki-mini",e),i.show_meridian?(r.attr("data-timepicki-meri",o),r.val(i.format_output(f,e,o))):r.val(i.format_output(f,e)));u&&c()}function y(){var u,f;d(i.start_time);t.fadeIn();u=t.find("input:visible").first();u.focus();f=function(t){if(t.which===9&&t.shiftKey){u.off("keydown",f);var i=n(":input:visible:not(.timepicki-input)"),e=i.index(r),o=i.get(e-1);o.focus()}};u.on("keydown",f)}function c(){t.fadeOut()}function d(n){var o,u,e,f;r.is("[data-timepicki-tim]")?(u=Number(r.attr("data-timepicki-tim")),e=Number(r.attr("data-timepicki-mini")),i.show_meridian&&(f=r.attr("data-timepicki-meri"))):typeof n=="object"?(u=Number(n[0]),e=Number(n[1]),i.show_meridian&&(f=n[2])):(o=new Date,u=o.getHours(),e=o.getMinutes(),f="AM",12<u&&i.show_meridian&&(u-=12,f="PM"));u<10?t.find(".ti_tx input").val("0"+u):t.find(".ti_tx input").val(u);e<10?t.find(".mi_tx input").val("0"+e):t.find(".mi_tx input").val(e);i.show_meridian&&(f<10?t.find(".mer_tx input").val("0"+f):t.find(".mer_tx input").val(f))}function f(n,r){var o="time",u=Number(t.find("."+o+" .ti_tx input").val()),h=Number(i.min_hour_value),c=Number(i.max_hour_value),s=Number(i.step_size_hours),f,e;n&&n.hasClass("action-next")||r==="next"?u+s>c?(f=h,f=f<10?"0"+f:String(f),t.find("."+o+" .ti_tx input").val(f)):(u=u+s,u<10&&(u="0"+u),t.find("."+o+" .ti_tx input").val(u)):(n&&n.hasClass("action-prev")||r==="prev")&&(u-s<=h?(e=c,e=e<10?"0"+e:String(e),t.find("."+o+" .ti_tx input").val(e)):(u=u-s,u<10&&(u="0"+u),t.find("."+o+" .ti_tx input").val(u)))}function p(n,r){var e="mins",u=Number(t.find("."+e+" .mi_tx input").val()),s=59,o=Number(i.step_size_minutes);n&&n.hasClass("action-next")||r==="next"?u+o>s?(t.find("."+e+" .mi_tx input").val("00"),i.overflow_minutes&&f(null,"next")):(u=u+o,u<10?t.find("."+e+" .mi_tx input").val("0"+u):t.find("."+e+" .mi_tx input").val(u)):(n&&n.hasClass("action-prev")||r==="prev")&&(u-o<=0?(t.find("."+e+" .mi_tx input").val(s+1-o),i.overflow_minutes&&f(null,"prev")):(u=u-o,u<10?t.find("."+e+" .mi_tx input").val("0"+u):t.find("."+e+" .mi_tx input").val(u)))}function w(n,i){var r="meridian",u=null;u=t.find("."+r+" .mer_tx input").val();n&&n.hasClass("action-next")||i==="next"?u=="AM"?t.find("."+r+" .mer_tx input").val("PM"):t.find("."+r+" .mer_tx input").val("AM"):(n&&n.hasClass("action-prev")||i==="prev")&&(u=="AM"?t.find("."+r+" .mer_tx input").val("PM"):t.find("."+r+" .mer_tx input").val("AM"))}var r=n(this),l=r.outerHeight(),b,k;l+=10;n(r).wrap("<div class='time_pick'>");var u=n(this).parents(".time_pick"),e=i.increase_direction==="down"?"<div class='prev1 action-prev'><\/div>":"<div class='prev1 action-next'><\/div>",o=i.increase_direction==="down"?"<div class='next1 action-next'><\/div>":"<div class='next1 action-prev'><\/div>",s=n("<div class='timepicker_wrap "+i.custom_classes+"'><div class='arrow_top'><\/div><div class='time'>"+e+"<div class='ti_tx'><input type='text' class='timepicki-input'"+(i.disable_keyboard_mobile?"readonly":"")+"><\/div>"+o+"<\/div><div class='mins'>"+e+"<div class='mi_tx'><input type='text' class='timepicki-input'"+(i.disable_keyboard_mobile?"readonly":"")+"><\/div>"+o+"<\/div>");i.show_meridian&&s.append("<div class='meridian'>"+e+"<div class='mer_tx'><input type='text' class='timepicki-input' readonly><\/div>"+o+"<\/div>");i.reset&&s.append("<div><a href='#' class='reset_time'>Reset<\/a><\/div>");u.append(s);var t=n(this).next(".timepicker_wrap"),g=t.find("div"),h=u.find("input");n(".reset_time").on("click",function(){r.val("");c()});n(".timepicki-input").keydown(function(t){var i=n(this).val().length;n.inArray(t.keyCode,[46,8,9,27,13,110,190])!==-1||t.keyCode==65&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39||((t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)||i==2)&&t.preventDefault()});n(document).on("click",function(i){if(!n(i.target).is(t)&&t.css("display")=="block"&&!n(i.target).is(n(".reset_time")))if(n(i.target).is(r))t.css({top:l+"px",left:"0px"}),y();else v(i,!a(n(i.target)))});r.on("focus",y);h.on("focus",function(){var t=n(this);t.is(r)||t.select()});h.on("keydown",function(t){var r,u=n(this);t.which===38?r=i.increase_direction==="down"?"prev":"next":t.which===40&&(r=i.increase_direction==="down"?"next":"prev");u.closest(".timepicker_wrap .time").length?f(null,r):u.closest(".timepicker_wrap .mins").length?p(null,r):u.closest(".timepicker_wrap .meridian").length&&i.show_meridian&&w(null,r)});h.on("blur",function(){setTimeout(function(){var t=n(document.activeElement);t.is(":input")&&!a(t)&&(v(),c())},0)});b=t.find(".action-next");k=t.find(".action-prev");n(k).add(b).on("click",function(){var t=n(this);t.parent().attr("class")=="time"?f(t):t.parent().attr("class")=="mins"?p(t):i.show_meridian&&w(t)})})}})(jQuery);
//# sourceMappingURL=timepicki.min.js.map
